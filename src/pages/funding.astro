---
import BaseLayout from "../layouts/BaseLayout.astro";
import Stepper from "../components/Stepper.astro";
import Section from "../components/Section.astro";
import Surface from "../components/Surface.astro";
import Button from "../components/ui/Button.astro";
import Alert from "../components/ui/Alert.astro";
import { funding } from "../content/funding";
---

<BaseLayout title="Funding Guide — Project Phoenix" description="NSFAS, Funza Lushaka, University bursaries, and learnerships—what you qualify for and how to apply.">
  <Section>
    <Stepper currentPage="Funding" />
    <div class="text-center max-w-3xl mx-auto mt-8">
      <h1 class="text-4xl sm:text-5xl font-display font-bold mb-4 text-balance text-text-light-primary dark:text-text-dark-primary">
        Your Financial Guide
      </h1>
      <p class="text-lg text-text-light-secondary dark:text-text-dark-secondary text-balance">
        Understand funding pathways and prepare an application that’s complete, early, and stress-free.
      </p>
    </div>
  </Section>

  <Section title="Funding Avenues">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
      <Surface variant="s1" class="p-6">
        <h3 class="font-display text-2xl font-bold mb-4 text-text-light-primary dark:text-text-dark-primary">{funding.nsfas.title}</h3>
        <div class="space-y-4">
          <Surface variant="s2" class="p-4">
            <h4 class="font-semibold mb-2">Eligibility</h4>
            <ul class="list-disc ml-5 space-y-1 text-sm text-neutral-subtle">
              {funding.nsfas.eligibility.map((e) => <li>{e.text}</li>)}
            </ul>
          </Surface>
          <Alert variant="success" title="Good News">
            {funding.nsfas.goodNewsNote}
          </Alert>
        </div>
      </Surface>
      <Surface variant="s1" class="p-6">
        <h3 class="font-display text-2xl font-bold mb-4 text-text-light-primary dark:text-text-dark-primary">Other Funding Avenues</h3>
        <div class="space-y-4">
          <Surface variant="s2" class="p-4">
            <h4 class="font-semibold mb-1">{funding.otherAvenues.funza.title}</h4>
            <p class="text-sm text-neutral-subtle">{funding.otherAvenues.funza.description}</p>
          </Surface>
          <Surface variant="s2" class="p-4">
            <h4 class="font-semibold mb-1">{funding.otherAvenues.universityBursaries.title}</h4>
            <p class="text-sm text-neutral-subtle">{funding.otherAvenues.universityBursaries.description}</p>
          </Surface>
          <Surface variant="s2" class="p-4">
            <h4 class="font-semibold mb-1">{funding.otherAvenues.learnerships.title}</h4>
            <p class="text-sm text-neutral-subtle">{funding.otherAvenues.learnerships.description}</p>
          </Surface>
        </div>
      </Surface>
    </div>
  </Section>

  <Section title="Get Application-Ready">
    <Alert variant="info" title="NSFAS Application Checklist">
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-6">
        <ul class="list-disc ml-5 space-y-1 text-sm">
          {funding.nsfasChecklist.left.map((item) => <li>{item.label}</li>)}
        </ul>
        <ul class="list-disc ml-5 space-y-1 text-sm">
          {funding.nsfasChecklist.right.map((item) => <li>{item.label}</li>)}
        </ul>
      </div>
      <div class="text-center mt-6">
        <Button href="/roadmap" variant="secondary">
          Check Roadmap for Prerequisites
        </Button>
      </div>
    </Alert>
  </Section>
</BaseLayout>
