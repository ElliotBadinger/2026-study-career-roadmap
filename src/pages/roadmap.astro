---
import BaseLayout from "../layouts/BaseLayout.astro";
import Stepper from "../components/Stepper.astro";
import Section from "../components/Section.astro";
import Surface from "../components/Surface.astro";
import Button from "../components/ui/Button.astro";
import InteractiveTimeline from "../components/islands/InteractiveTimeline.jsx";
import Checklist from "../components/islands/Checklist.jsx";
import { phases, defaults } from "../content/roadmap";
---

<BaseLayout title="Your Roadmap â€” Project Phoenix" description="A 5-phase plan with interactive checklists that save on your device.">
  <Section>
    <Stepper currentPage="Roadmap" />
    <div class="text-center max-w-3xl mx-auto mt-8">
      <h1 class="text-4xl sm:text-5xl font-display font-bold mb-4 text-balance text-text-light-primary dark:text-text-dark-primary">
        Your Action Plan
      </h1>
      <p class="text-lg text-text-light-secondary dark:text-text-dark-secondary text-balance">
        This roadmap is your guide from academic recovery to career readiness. Use the timeline to understand the journey, and the checklists to track your progress.
      </p>
    </div>
  </Section>

  <Section title="The 5-Phase Plan">
    <Surface variant="s1" class="p-4 sm:p-6">
      <InteractiveTimeline client:load phases={phases} />
    </Surface>
  </Section>

  <Section title="Your Checklists">
    <div class="space-y-8">
      <Surface variant="s1" class="p-6">
        <h3 class="font-display text-2xl font-bold mb-4 text-text-light-primary dark:text-text-dark-primary">Phase 1: Focus & Self-Discovery</h3>
        <Checklist
          client:load
          storageKey="phoenix-checklist-phase-1"
          defaultItems={defaults["phase-1"]}
        />
        <div class="text-right mt-4">
          <Button href="#phase-2" variant="secondary">Continue to Phase 2</Button>
        </div>
      </Surface>

      <Surface variant="s1" class="p-6" id="phase-2">
        <h3 class="font-display text-2xl font-bold mb-4 text-text-light-primary dark:text-text-dark-primary">Phase 2: Applications & Funding</h3>
        <Checklist
          client:load
          storageKey="phoenix-checklist-phase-2"
          defaultItems={defaults["phase-2"]}
        />
        <div class="text-right mt-4">
          <Button href="#phase-3" variant="secondary">Continue to Phase 3</Button>
        </div>
      </Surface>

      <Surface variant="s1" class="p-6" id="phase-3">
        <h3 class="font-display text-2xl font-bold mb-4 text-text-light-primary dark:text-text-dark-primary">Phase 3: Final Exam Preparation</h3>
        <Checklist
          client:load
          storageKey="phoenix-checklist-phase-3"
          defaultItems={defaults["phase-3"]}
        />
        <div class="text-right mt-4">
          <Button href="#phase-4" variant="secondary">Continue to Phase 4</Button>
        </div>
      </Surface>

      <Surface variant="s1" class="p-6" id="phase-4">
        <h3 class="font-display text-2xl font-bold mb-4 text-text-light-primary dark:text-text-dark-primary">Phase 4: Results & Offers</h3>
        <Checklist
          client:load
          storageKey="phoenix-checklist-phase-4"
          defaultItems={defaults["phase-4"]}
        />
        <div class="text-right mt-4">
          <Button href="#phase-5" variant="secondary">Continue to Phase 5</Button>
        </div>
      </Surface>

      <Surface variant="s1" class="p-6" id="phase-5">
        <h3 class="font-display text-2xl font-bold mb-4 text-text-light-primary dark:text-text-dark-primary">Phase 5: Orientation & Pre-Start</h3>
        <Checklist
          client:load
          storageKey="phoenix-checklist-phase-5"
          defaultItems={defaults["phase-5"]}
        />
      </Surface>
    </div>
  </Section>

  <Section>
    <div class="text-center">
      <Button href="/compass" size="lg">Next Step: Find Your Career Path</Button>
    </div>
  </Section>
</BaseLayout>
