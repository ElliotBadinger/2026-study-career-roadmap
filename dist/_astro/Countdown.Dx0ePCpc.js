import{j as e}from"./jsx-runtime.TBa3i5EZ.js";import{r as i}from"./index.CVf8TyFT.js";function v(o){const n="2025-10-01T08:00:00+02:00";try{const t=o||n,s=new Date(t);if(isNaN(s.getTime())){const r=t.replace(" ","T"),a=new Date(r);return isNaN(a.getTime())?new Date(n):a}return s}catch{return new Date(n)}}function N(o){const n=Math.max(0,o),t=Math.floor(n/1e3),s=Math.floor(t/86400),r=Math.floor(t%86400/3600),a=Math.floor(t%3600/60),d=t%60;return{days:s,hours:r,minutes:a,seconds:d,totalSeconds:t}}function w({target:o,label:n="Next milestone"}){const t=i.useMemo(()=>v(o),[o]),[s,r]=i.useState(()=>Date.now()),[a,d]=i.useState(!1);i.useEffect(()=>{d(!0);const c=setInterval(()=>r(Date.now()),1e3);return()=>clearInterval(c)},[]);const{days:l,hours:m,minutes:u,seconds:x,totalSeconds:h}=i.useMemo(()=>N(t.getTime()-s),[t,s]),f=h===0;return e.jsxs("div",{className:"rounded-xl border border-base-300 bg-white p-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm text-neutral/70",children:n}),a?f?e.jsx("div",{className:"mt-1 text-2xl sm:text-3xl font-bold text-primary",children:"Go time"}):e.jsxs("div",{className:"mt-1 text-2xl sm:text-3xl font-bold text-neutral tabular-nums",children:[l,"d ",m,"h ",u,"m ",x,"s"]}):e.jsx("div",{className:"mt-1 text-2xl sm:text-3xl font-bold text-neutral tabular-nums",children:"--d --h --m --s"})]}),e.jsxs("div",{className:"hidden sm:block text-right text-xs text-neutral/60",children:[e.jsx("div",{className:"font-medium text-neutral/70",children:"Target"}),e.jsx("div",{children:t.toLocaleString(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]})]}),e.jsx("div",{className:"mt-3 h-2 rounded bg-base-300 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-secondary transition-[width] duration-700 ease-out",style:{width:(()=>{const c=Math.max(1,t.getTime()-(t.getTime()-7776e6)),g=Math.min(c,Math.max(0,t.getTime()-s));return`${100-Math.min(99,Math.floor(g/c*100))}%`})()}})})]})}export{w as default};
