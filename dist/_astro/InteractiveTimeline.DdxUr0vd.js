import{j as t}from"./jsx-runtime.TBa3i5EZ.js";import{r as o}from"./index.CVf8TyFT.js";function h({phases:n=[],storageKey:i="phoenix-timeline-state",title:x="Your 5-Phase Plan"}){const l=o.useMemo(()=>n.map(e=>e.id),[n]),[r,d]=o.useState(()=>{try{const e=localStorage.getItem(i);if(!e)return{};const s=JSON.parse(e);return typeof s=="object"&&s?s:{}}catch{return{}}});o.useEffect(()=>{try{localStorage.setItem(i,JSON.stringify(r))}catch{}},[r,i]);const m=o.useMemo(()=>l.length>0&&l.every(e=>r[e]),[l,r]);function b(e){d(s=>({...s,[e]:!s[e]}))}function c(e){const s={};for(const a of l)s[a]=e;d(s)}return t.jsxs("section",{className:"rounded-xl border border-base-300 bg-white p-5 sm:p-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4",children:[t.jsx("h2",{className:"font-display text-lg sm:text-xl font-semibold text-neutral",children:x}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{type:"button",className:"text-xs px-3 py-1.5 rounded border border-base-300 hover:bg-base-200",onClick:()=>c(!0),children:"Expand all"}),t.jsx("button",{type:"button",className:"text-xs px-3 py-1.5 rounded border border-base-300 hover:bg-base-200",onClick:()=>c(!1),disabled:!m&&l.every(e=>!r[e]),children:"Collapse all"})]})]}),t.jsx("ol",{className:"relative border-l-2 border-base-300 pl-5 space-y-4",children:n.map((e,s)=>{const a=!!r[e.id];return t.jsxs("li",{className:"relative",children:[t.jsx("span",{"aria-hidden":"true",className:"absolute -left-[9px] top-2 h-3 w-3 rounded-full bg-gradient-to-br from-primary to-secondary"}),t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-neutral",children:e.title??`Phase ${s+1}`}),e.period&&t.jsx("p",{className:"text-xs text-neutral/60 mt-0.5",children:e.period})]}),t.jsx("div",{children:t.jsx("button",{type:"button",className:"text-xs px-2 py-1 rounded border border-base-300 hover:bg-base-200","aria-expanded":a,"aria-controls":`${e.id}-panel`,onClick:()=>b(e.id),children:a?"Hide":"Show"})})]}),t.jsx("div",{id:`${e.id}-panel`,role:"region","aria-label":e.title??`Phase ${s+1} details`,className:`mt-2 overflow-hidden transition-[max-height,opacity] duration-300 ease-out ${a?"opacity-100":"opacity-0"}`,style:{maxHeight:a?"260px":"0px"},children:e.summary?t.jsx("p",{className:"text-sm text-neutral/80 bg-base-200 border border-base-300 rounded-lg p-3",children:e.summary}):t.jsx("p",{className:"text-sm text-neutral/60",children:"No summary provided. Use the checklist below to track actions for this phase."})})]},e.id)})})]})}export{h as default};
