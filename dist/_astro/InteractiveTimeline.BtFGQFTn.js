import{j as r}from"./jsx-runtime.TBa3i5EZ.js";import{r as o}from"./index.CVf8TyFT.js";function p({phases:i=[],storageKey:l="phoenix-timeline-state",title:x="Your 5-Phase Plan"}){const s=o.useMemo(()=>i.map(e=>e.id),[i]),[a,n]=o.useState(()=>{try{const e=localStorage.getItem(l);if(!e)return{};const t=JSON.parse(e);return typeof t=="object"&&t?t:{}}catch{return{}}});o.useEffect(()=>{try{localStorage.setItem(l,JSON.stringify(a))}catch{}},[a,l]);const b=o.useMemo(()=>s.length>0&&s.every(e=>a[e]),[s,a]);function m(e){n(t=>({...t,[e]:!t[e]}))}function c(e){const t={};for(const d of s)t[d]=e;n(t)}return r.jsxs("section",{className:"rounded-xl border border-border-light bg-bg-light-primary dark:border-border-dark dark:bg-bg-dark-surface p-5 sm:p-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4",children:[r.jsx("h2",{className:"font-display text-lg sm:text-xl font-semibold text-text-light-primary dark:text-text-dark-primary",children:x}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",className:"text-xs px-3 py-1.5 rounded border border-border-light hover:bg-bg-light-secondary dark:border-border-dark dark:hover:bg-bg-dark-primary",onClick:()=>c(!0),children:"Expand all"}),r.jsx("button",{type:"button",className:"text-xs px-3 py-1.5 rounded border border-border-light hover:bg-bg-light-secondary dark:border-border-dark dark:hover:bg-bg-dark-primary",onClick:()=>c(!1),disabled:!b&&s.every(e=>!a[e]),children:"Collapse all"})]})]}),r.jsx("ol",{className:"relative border-l-2 border-border-light dark:border-border-dark pl-5 space-y-4",children:i.map((e,t)=>{const d=!!a[e.id];return r.jsxs("li",{className:"relative",children:[r.jsx("span",{"aria-hidden":"true",className:"absolute -left-[9px] top-2 h-3 w-3 rounded-full bg-gradient-to-br from-primary to-secondary"}),r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-text-light-primary dark:text-text-dark-primary",children:e.title??`Phase ${t+1}`}),e.period&&r.jsx("p",{className:"text-xs text-text-light-secondary dark:text-text-dark-secondary mt-0.5",children:e.period})]}),r.jsx("div",{children:r.jsx("button",{type:"button",className:"text-xs px-2 py-1 rounded border border-border-light hover:bg-bg-light-secondary dark:border-border-dark dark:hover:bg-bg-dark-primary","aria-expanded":d,"aria-controls":`${e.id}-panel`,onClick:()=>m(e.id),children:d?"Hide":"Show"})})]}),r.jsx("div",{id:`${e.id}-panel`,role:"region","aria-label":e.title??`Phase ${t+1} details`,className:`mt-2 overflow-hidden transition-[max-height,opacity] duration-300 ease-out ${d?"opacity-100":"opacity-0"}`,style:{maxHeight:d?"260px":"0px"},children:e.summary?r.jsx("p",{className:"text-sm text-text-light-secondary dark:text-text-dark-secondary bg-bg-light-secondary border border-border-light dark:bg-bg-dark-primary dark:border-border-dark rounded-lg p-3",children:e.summary}):r.jsx("p",{className:"text-sm text-text-light-secondary dark:text-text-dark-secondary",children:"No summary provided. Use the checklist below to track actions for this phase."})})]},e.id)})})]})}export{p as default};
